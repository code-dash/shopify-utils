!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=26)}([function(e,t){e.exports={conditions:[{name:"Product title",target:"title",value:"string",scope:["product","products","collection","collections","blog","blogs","article","articles","page","pages"],methods:["is equal to","is not equal to","starts with","ends with","contains","does not contain"]},{name:"Product Content",target:"body_html",value:"string",scope:["product","products","collection","collections","blog","blogs","article","articles","page","pages"],methods:["is equal to","is not equal to","starts with","ends with","contains","does not contain"]}],options:[{name:"Title",target:"title",value:"string",scope:["product","products","collection","collections","blog","blogs","article","articles","page","pages"],methods:["Lowercase","Uppercase","Insert before","Insert after","Replace","Replace Regex"]}]}},function(e,t){e.exports=function(){return window.location.pathname.match(/\/admin\/products\/\d+/)?["product","products","duplicate_product"]:window.location.pathname.match(/\/admin\/products$/)?["products","products","duplicate_product"]:window.location.pathname.match(/\/admin\/collections\/\d+/)?["collection","collections","duplicate_collection"]:window.location.pathname.match(/\/admin\/collections$/)?["collections","collections","duplicate_collection"]:window.location.pathname.match(/\/admin\/pages\/\d+/)?["page","pages","duplicate_page"]:window.location.pathname.match(/\/admin\/pages$/)?["pages","pages","duplicate_page"]:window.location.pathname.match(/\/admin\/orders\/\d+/)?["order","orders"]:window.location.pathname.match(/\/admin\/orders$/)?["orders","orders"]:window.location.pathname.match(/\/admin\/articles/)?["articles","articles","duplicate_article"]:window.location.pathname.match(/\/admin\/blogs\/\d+\/articles\/\d+$/)?["article","articles","duplicate_article"]:window.location.pathname.match(/\/admin\/blogs/)?["blogs","blogs","duplicate_blog"]:window.location.pathname.match(/\/admin\/blogs\/\d+$/)?["blog","blogs","duplicate_blog"]:window.location.pathname.match(/\/admin\/menus\/\d+$/)?["navigation","menus"]:void 0}},function(e,t){e.exports=function(){this.toggle.addEventListener("click",()=>{this.sidebar.classList.toggle(this.activeClass),this.toggle.classList.toggle(this.activeClass),this.sidebar.querySelector(".shopify_utils-modals").innerHTML=""})}},function(e,t){e.exports=function(){let e=window.top.document.querySelector('meta[name="csrf-token"');e?this.csrfToken=e.getAttribute("content"):fetch(window.location.origin+"/admin/articles",{method:"GET",credentials:"include",headers:{accept:"text/html, application/xhtml+xml, application/xml","x-shopify-web":"1"}}).then(e=>{if(e.ok)return e.text();{const e=new Error("Error fetching CSRF token.");throw e.status="ERROR_FETCHING_CSRF_TOKEN",e}}).then(t=>{let i=window.top.document.createElement("div");if(i.innerHTML=t,e=i.querySelector('meta[name="csrf-token"]'),e){{this.csrfToken=e.getAttribute("content");const t=window.top.document.createElement("meta");t.setAttribute("name","csrf-token"),t.setAttribute("content",null),window.top.document.querySelector("head").appendChild(t)}i.remove(),i=null}})}},function(e,t){e.exports=function(){const e=this;this.sidebar.querySelectorAll(".js-shopify_utils-action").forEach(t=>{t.addEventListener("click",(function(t){t.preventDefault();const i=this.getAttribute("data-type"),n=e.getCurrentPageType();if(-1===["product","products","collection","collections","page","pages","article","articles","blog","blogs","navigation"].indexOf(n[0]))return alert("Not Supported for duplication"),!1;this.allItems=[],e.sidebar.querySelector(".shopify_utils-modals").innerHTML="",e[i]()}))}),this.sidebar.addEventListener("click",e=>{e.target.classList.contains(this.prefix+"-sidepanel__close")&&this.sidebar.querySelectorAll(`.${this.prefix}-sidepanel`).forEach(e=>{e.classList.remove(this.activeClass)})})}},function(e,t){e.exports={duplicateIcon:'<svg viewBox="0 0 20 20" class="icon-duplicate" focusable="false" aria-hidden="true"><path d="M8 12h8V4H8v8zm4 4H4V8h2v5a1 1 0 0 0 1 1h5v2zm5-14H7a1 1 0 0 0-1 1v3H3a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-3h3a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z" fill-rule="evenodd"></path></svg>'}},function(e,t){e.exports=function(){const e=this.getCurrentPageType()[0];let t=[];if("product"===e||"collection"===e||"page"===e||"order"===e||"blog"===e||"article"===e||"navigation"===e){const e=window.location.pathname.split("/").pop();t.push(e)}else"products"===e?document.querySelectorAll('input[type="checkbox"][id*=ResourceListItemCheckbox]:checked').forEach(e=>{const i=e.closest('[id*="gid://shopify/Product/"]').getAttribute("id").split("/").pop();t.push(i)}):"collections"===e?document.querySelectorAll('input[type="checkbox"][id*=collection_ids_]:checked').forEach(e=>{const i=e.getAttribute("id").split("collection_ids_").pop();t.push(i)}):"pages"===e?document.querySelector('[name="app-iframe"]').contentWindow.document.querySelectorAll('input[type="checkbox"][id*="ResourceListItemCheckbox"][aria-checked="true"]').forEach(e=>{const i=e.closest('[id*="gid://shopify/OnlineStorePage/"]').getAttribute("id").split("/").pop();t.push(i)}):"blogs"===e?document.querySelectorAll('.selected input[type="checkbox"]:checked').forEach(e=>{const i=e.getAttribute("id").split("blog_ids_").pop();t.push(i)}):"articles"===e&&document.querySelectorAll('.selected input[type="checkbox"]:checked').forEach(e=>{const i=e.value;t.push(i)});return t}},function(e,t){e.exports=async function(){const e=this.getCurrentPageType()[1],t=this.getSelectedInpus(),i=t.join(",");let n=[];if(t.length){if("products"==e||"collections"==e)return n=await this.getRequest(`${e}?ids=${i}`),n[e];if("pages"===e){n=await this.getRequest("pages.json?ids="+i);return n.pages.filter(e=>i.indexOf(e.id)>-1)}if("blogs"===e){for(let e=0;e<t.length;e++){const i=t[e];item=await this.getRequest(`blogs/${i}.json`),n.push(item.blog)}return n}if("articles"===e){for(let e=0;e<t.length;e++){const i=t[e];item=await this.getRequest(`articles/${i}.json`),n.push(item.article)}return n}return[]}alert("No items selected!")}},function(e,t){e.exports=function(){document.querySelector("body").insertAdjacentHTML("afterbegin",this.htmlSidebar()),this.sidebar=document.querySelector(`.${this.prefix}-sidebar`),this.toggle=document.querySelector(`.js-${this.prefix}-toggle`)}},function(e,t){function i(e){var t=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.innerHTML=e,t.appendChild(i)}e.exports=async function(){const e=["https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/codemirror.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/mode/javascript/javascript.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/addon/hint/javascript-hint.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/addon/lint/lint.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/addon/lint/javascript-lint.min.js","https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/addon/hint/show-hint.min.js","https://cdnjs.cloudflare.com/ajax/libs/jshint/2.11.0-rc1/jshint.min.js"];for(let t=0;t<e.length;t++){const n=e[t];await fetch(n).then(e=>e.text()).then(e=>i(e))}}},function(e,t){e.exports=function(e,t,i){return fetch(`/admin/api/${this.apiVersion}/${e}`,{method:t,headers:{accept:"application/json","content-type":"application/json","x-csrf-token":this.csrfToken},credentials:"include",body:JSON.stringify(i)}).then(e=>e.json()).then(e=>e).catch(e=>e.json())}},function(e,t){e.exports=function(e){return fetch(`/admin/api/${this.apiVersion}/${e}`,{method:"GET",headers:{accept:"application/json","content-type":"application/json","x-csrf-token":this.csrfToken},credentials:"include"}).then(e=>e.json()).then(e=>e).catch(e=>e.json())}},function(e,t){e.exports=function(e){return new Promise((t,i)=>{fetch(`/admin/api/${this.apiVersion}/${e}`,{method:"GET",headers:{accept:"application/json","content-type":"application/json","x-csrf-token":this.csrfToken},credentials:"include"}).then(e=>{e.json().then(i=>{this.allItems=this.allItems.concat(Object.values(i).pop());if(e.headers.get("link")){const i=e.headers.get("link").match(/<[^;]+\/(\w+\.json[^;]+)>;\srel="next"/);i?this.getRequestAll(i[1]):t()}else t()})})})}},function(e,t){e.exports=function(e){const t=document.querySelector("#menu-item-name").value+this.duplicatePrefix,i=document.querySelector("#menu-handle").value;return fetch("/admin/menus/apply_changes.json",{method:"POST",headers:{"x-csrf-token":this.csrfToken,"Content-Type":"application/json"},body:JSON.stringify({changes:e,root:{title:t,handle:i}})})}},function(e,t){e.exports=async function(e){delete e.products_count,e.title+=this.duplicatePrefix,"smart"===e.collection_type?await this.postRequest("smart_collections.json","POST",{smart_collection:e}):await this.postRequest("custom_collections.json","POST",{custom_collection:e})}},function(e,t){e.exports=async function(e){e.title+=this.duplicatePrefix;const t=await this.postRequest("products.json","POST",{product:e});t.errors&&alert(JSON.stringify(t.errors))}},function(e,t){e.exports=async function(e){e.title+=this.duplicatePrefix,await this.postRequest("pages.json","POST",{page:e})}},function(e,t){e.exports=async function(e){e.title+=this.duplicatePrefix,""===e.tags&&delete e.tags,delete e.source_name,delete e.fulfillments,delete e.tax_lines,e.customer&&delete e.customer.default_address,delete e.customer,await this.postRequest("orders.json","POST",{order:e})}},function(e,t){e.exports=async function(e){e.title+=this.duplicatePrefix,await this.postRequest("blogs.json","POST",{blog:e})}},function(e,t){e.exports=async function(e){e.title+=this.duplicatePrefix,await this.postRequest("articles.json","POST",{article:e})}},function(e,t){e.exports=function(){const e=[];document.querySelectorAll(".js-menu-resource").forEach(t=>{const i=JSON.parse(t.getAttribute("data-menu-item"));i.action="create",e.push(i)}),this.createMenu(e)}},function(e,t){e.exports=[{type:["product","products"],checkboxes:[{"variant-metafield":"Variant Metafields (a lot slower)"},{metafield:"Metafields (slow)"}]},{type:["collection","collections"],checkboxes:[{metafield:"Metafields"}]},{type:["article","articles"],checkboxes:[{metafield:"Metafields"}]},{type:["blog","blogs"],checkboxes:[{metafield:"Metafields"}]},{type:["page","pages"],checkboxes:[{metafield:"Metafields"}]}]},function(e,t,i){var n=i(23),o=i(24);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},function(e,t,i){"use strict";var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},s=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),a=[];function r(e){for(var t=-1,i=0;i<a.length;i++)if(a[i].identifier===e){t=i;break}return t}function c(e,t){for(var i={},n=[],o=0;o<e.length;o++){var s=e[o],c=t.base?s[0]+t.base:s[0],l=i[c]||0,d="".concat(c," ").concat(l);i[c]=l+1;var p=r(d),u={css:s[1],media:s[2],sourceMap:s[3]};-1!==p?(a[p].references++,a[p].updater(u)):a.push({identifier:d,updater:g(u,t),references:1}),n.push(d)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=i.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=s(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var d,p=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function u(e,t,i,n){var o=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=p(t,o);else{var s=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function h(e,t,i){var n=i.css,o=i.media,s=i.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),s&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,m=0;function g(e,t){var i,n,o;if(t.singleton){var s=m++;i=f||(f=l(t)),n=u.bind(null,i,s,!1),o=u.bind(null,i,s,!0)}else i=l(t),n=h.bind(null,i,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var i=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var o=r(i[n]);a[o].references--}for(var s=c(e,t),l=0;l<i.length;l++){var d=r(i[l]);0===a[d].references&&(a[d].updater(),a.splice(d,1))}i=s}}}},function(e,t,i){(t=i(25)(!1)).push([e.i,"@import url(https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/codemirror.min.css);"]),t.push([e.i,"@import url(https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/theme/dracula.min.css);"]),t.push([e.i,"@import url(https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/addon/hint/show-hint.min.css);"]),t.push([e.i,"@import url(https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/addon/lint/lint.min.css);"]),t.push([e.i,"@import url(https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.54.0/addon/display/fullscreen.min.css);"]),t.push([e.i,'.shopify_utils-sidepanel{position:absolute;top:0;right:100%;min-width:300px;padding:20px;height:auto;z-index:2;background-color:#fff;transition:transform .3s;overflow:hidden;display:none;align-items:center;box-shadow:-5px 2px 5px rgba(0,0,0,.1)}.shopify_utils-sidepanel.is-active{display:flex}.shopify_utils-sidepanel form{flex:100%}.shopify_utils-sidepanel li{margin:0 0 5px}.shopify_utils-sidepanel li label{display:flex;align-items:center}.shopify_utils-sidepanel li input{margin:0 10px 0 0}.shopify_utils-sidepanel .btn{width:100%;padding:5px 0;background:linear-gradient(180deg, #3f4eae, #3f4eae);border-color:#38469b;box-shadow:inset 0 0 0 0 transparent,0 1px 0 0 rgba(22,29,37,.05),0 0 1px 0 #38469b;font-size:14px;color:#fff;line-height:1.6rem;text-transform:none;letter-spacing:normal;border-radius:5px;cursor:pointer}.shopify_utils-sidepanel .btn:hover{background:linear-gradient(180deg, #5c6ac4, #4959bd);text-decoration:none}.shopify_utils-sidepanel__close{position:absolute;top:10px;right:20px;width:20px;height:20px;cursor:pointer}.shopify_utils-sidepanel__close:before,.shopify_utils-sidepanel__close:after{content:"";position:absolute;top:0;left:50%;display:block;width:1px;height:20px;background:#000}.shopify_utils-sidepanel__close:before{transform:rotate(45deg)}.shopify_utils-sidepanel__close:after{transform:rotate(-45deg)}.shopify_utils-sidebar.is-active .shopify_utils-sidebar__inner{width:200px;padding:20px}.shopify_utils-dynamic-content{position:fixed;top:0;left:0;width:100%;height:100%}.shopify_utils-sidebar{position:fixed;top:0;right:0;height:100vh;z-index:600}.shopify_utils-sidebar.is-active .shopify_utils-sidebar__inner{width:200px;padding:20px}.shopify_utils-toggle{position:absolute;top:50%;right:100%;width:20px;height:20px;display:flex;justify-content:center;align-items:center;cursor:pointer}.shopify_utils-toggle:after{content:"";display:block;width:7px;height:7px;margin:0 auto;border-bottom:1px solid #000;border-left:1px solid #000;transform:rotate(45deg)}.shopify_utils-toggle.is-active:after{transform:rotate(-135deg)}.shopify_utils-sidebar__inner{overflow:hidden;background-color:#fff;width:0;height:100vh;transition:width .5s,padding .5s;box-shadow:-2px 0 5px rgba(0,0,0,.1)}.shopify_utils-sidebar__inner ul{list-style:none;padding:0;margin:0}.shopify_utils-sidebar__inner li{padding:0 0 5px;margin-bottom:10px;border-bottom:1px solid #dfe3e8}.shopify_utils-sidebar__inner ul a{display:flex;align-items:center;color:#454f5b;white-space:nowrap;text-decoration:none;opacity:.7}.shopify_utils-sidebar__inner ul a:hover{opacity:1}.shopify_utils-sidebar__inner ul svg{margin-right:4px}.shopify_utils-sidebar__inner .icon-duplicate{width:16px;height:16px}.CodeMirror-lint-tooltip,.CodeMirror-hints{z-index:999 !important}.code-editor{width:100%;height:400px}.CodeMirror-cursor{width:1px !important}.CodeMirror-sizer{margin-left:16px !important}.code-editor-wrapper pre{white-space:break-spaces}',""]),e.exports=t},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",n=e[3];if(!n)return i;if(t&&"function"==typeof btoa){var o=(a=n,r=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(c," */")),s=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[i].concat(s).concat([o]).join("\n")}var a,r,c;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(n)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(o[a]=!0)}for(var r=0;r<e.length;r++){var c=[].concat(e[r]);n&&o[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),t.push(c))}},t}},function(e,t,i){"use strict";i.r(t);i(22);var n=i(1),o=i.n(n),s=i(2),a=i.n(s),r=i(3),c=i.n(r),l=i(4),d=i.n(l),p=i(5);var u=i(6),h=i.n(u),f=i(7),m=i.n(f),g=i(8),y=i.n(g),b=i(9),x=i.n(b),v=i(10),w=i.n(v),_=i(11),j=i.n(_),S=i(12),T=i.n(S),k=i(13),q=i.n(k);var C=i(14),$=i.n(C),E=i(15),M=i.n(E),O=i(16),P=i.n(O),R=i(17),L=i.n(R),A=i(18),I=i.n(A),H=i(19),N=i.n(H),U=i(20),D=i.n(U),F=i(21),z=i.n(F);var V=i(0);function J(e){return/\bCodeMirror-fullscreen\b/.test(e.getWrapperElement().className)}function B(e,t){var i=e.getWrapperElement(),n=e.getScrollerElement();t?(i.className+=" CodeMirror-fullscreen",n.style.height=(window.innerHeight||(document.documentElement||document.body).clientHeight)+"px",document.documentElement.style.overflow="hidden"):(i.className=i.className.replace(" CodeMirror-fullscreen",""),n.style.height="",document.documentElement.style.overflow=""),e.refresh()}function G(e,t){switch(t[1]){case"is equal to":return((e,t)=>e[t[0]]===t[2])(e,t);case"is not equal to":return((e,t)=>e[t[0]]!==t[2])(e,t);case"starts with":return((e,t)=>{const i="^"+t[2],n=new RegExp(i);if(e[t[0]].match(n))return!0})(e,t);case"ends with":return((e,t)=>{const i=t[2]+"$",n=new RegExp(i);if(e[t[0]].match(n))return!0})(e,t);case"contains":return((e,t)=>e[t[0]].indexOf(t[2])>-1)(e,t);case"does not contain":return((e,t)=>-1===e[t[0]].indexOf(t[2]))(e,t)}}var W=function(){const e=this.sidebar.querySelector('[name="condition-type"]:checked').value,t=Object.values(document.querySelectorAll(".dynamic-row")).reduce((e,t)=>{const i=t.querySelector(".dynamic-type").value,n=t.querySelector(".dynamic-condition").value,o=t.querySelector(".dynamic-check").value;return e.push([i,n,o]),e},[]);this.filteredItems=[],t.forEach(t=>{if("and"===e){const e=this.filteredItems.length?this.filteredItems:this.allItems;this.filteredItems=e.filter(e=>G(e,t))}else{const e=this.allItems.reduce((e,i)=>(this.filteredItems.some(e=>e.id!==i.id)||G(i,t)&&e.push(i),e),[]);this.filteredItems=this.filteredItems.concat(e)}})};class K{constructor(){this.csrfToken="",this.apiVersion="2020-07",this.prefix="shopify_utils",this.sidebar=null,this.toggle=null,this.activeClass="is-active",this.duplicatePrefix=" Copy",this.allItems=[],this.filteredItems=[]}init(){this.getCSRFToken(),this.generateSidebar(),this.toggleSidebar(),this.clickEvent(),this.duplicateSubmit(),this.addAllScripts()}}Object.assign(K.prototype,{getCurrentPageType:o.a,toggleSidebar:a.a,getCSRFToken:c.a,clickEvent:d.a,htmlSidebar:function(){return`\n  <div class="${this.prefix}-sidebar">\n    <span class="${this.prefix}-toggle js-${this.prefix}-toggle"></span>\n    <div class="${this.prefix}-sidebar__inner">\n      <div class="${this.prefix}-modals"></div>\n      <ul>\n        <li>\n          <a href="#" class="js-${this.prefix}-action" data-type="duplicate">${p.duplicateIcon} Duplicate Selected</a>\n        </li>\n        <li>\n          <a href="#" class="js-${this.prefix}-action" data-type="dynamic">Dynamic Content</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  `},getSelectedInpus:h.a,getSelectedItems:m.a,generateSidebar:y.a,addAllScripts:x.a}),Object.assign(K.prototype,{postRequest:w.a,getRequest:j.a,createMenu:q.a,getRequestAll:T.a}),Object.assign(K.prototype,{duplicate:function(){const e=this.getCurrentPageType()[0];this.appendHTML(e),this.sidebar.querySelector(`.${this.prefix}-duplicate-html`).classList.add(this.activeClass)},duplicate_collection:$.a,duplicate_product:M.a,duplicate_page:P.a,duplicate_order:L.a,duplicate_blog:I.a,duplicate_article:N.a,duplicate_navigation:D.a,appendHTML:function(e){document.querySelector(".shopify_utils-modals").innerHTML=`\n  <div class="shopify_utils-duplicate-html shopify_utils-sidepanel">\n    <span class="shopify_utils-sidepanel__close"></span>\n    <form class="js-shopify_utils-duplicate-form">\n      <ul class="js-shopify_utils-duplicate-checkboxes">\n        ${function(e){return z.a.filter(t=>t.type.indexOf(e)>-1).pop().checkboxes.map(e=>{const t=Object.entries(e)[0];return`<li><label><input type="checkbox" name="duplicate" value="${t[0]}" />${t[1]}</label></li>`}).join("")}(e)}\n      </ul>\n      <button type="submit" class="btn">Start</button>\n    </form>\n  </div>\n`},duplicateSubmit:function(){const e=this,t=this.getCurrentPageType();this.sidebar.addEventListener("submit",(async function(i){i.preventDefault();if(i.target.classList.contains("js-shopify_utils-duplicate-form")){const i=await e.getSelectedItems();let n=[];if(!i)return;if(this.querySelectorAll('input[name="duplicate"]:checked').forEach(e=>{n.push(e.value)}),"navigation"===t[0])await e.duplicate_navigation();else for(let o=0;o<i.length;o++){const s=i[o],a=s.id,r=s.id+"/metafields.json";if(delete s.id,delete s.handle,delete s.admin_graphql_api_id,delete s.updated_at,n.indexOf("metafield")>-1){const i=await e.extractMetafields(`${t[1]}/${r}`);s.metafields=i}if(n.indexOf("variant-metafield")>-1)for(let i=0;i<s.variants.length;i++){const n=s.variants[i],o=await e.extractMetafields(`${t[1]}/${a}/variants/${n.id}/metafields.json`);n.metafields=o}await e[t[2]](s)}alert("Done!")}}))},extractMetafields:async function(e){return(await this.getRequest(e,"GET")).metafields.map(e=>(delete e.id,delete e.owner_id,delete e.created_at,delete e.updated_at,delete e.owner_resource,delete e.admin_graphql_api_id,e))}}),Object.assign(K.prototype,{dynamic:function(){this.appendDynamicContentHTML(),document.querySelector(`.${this.prefix}-dynamic-content`).classList.add(this.activeClass)},dynamicContentHTML:function(){return`\n    <div class="${this.prefix}-dynamic-content ${this.prefix}-sidepanel">\n      <span class="${this.prefix}-sidepanel__close"></span>\n      <form class="js-${this.prefix}-dynamic-form">\n        <div class="condition-holder">\n          <h4>Conditions</h4>\n          <div class="condition-type">\n            <label>\n              <input type="radio" name="condition-type" value="and"> AND\n            </label>\n            <label>\n              <input type="radio" name="condition-type" value="or"> OR\n            </label>\n          </div>\n          <div class="js-${this.prefix}-dynamic-rows">\n            ${this.dynamicRow()}\n          </div>\n          <div class="condition-response"></div>\n          <button type="button" class="btn js-start-conditions">Get Objects</button>\n        </div>\n        <div class="target-holder">\n          <h4>Target</h4>\n          <div class="js-${this.prefix}-option-row">\n            ${this.generateOptionType()}\n            <select class="dynamic-option-method"></select>\n          </div>\n          <div class="io-row">\n            <input class="input-field" value="" placeholder="">\n            <input class="output-field" value="" placeholder="">\n            <div class="code-editor-wrapper">\n    <div class="notice">\n      <h4>Custom code execution</h4>\n      <p class="red-text">The field below accepts any valid Javascript code, don't use it if you don't know how to write it properly!</p>\n    </div>\n    <textarea class="code-editor"></textarea>\n    <h5>Legend</h5>\n    <pre><strong>shopifyUtils.items</strong> - this is the array of the found results from the conditions. You can loop it and do what ever you like.</pre>\n    <pre><strong>shopifyUtils.postRequest(url, method, body)</strong> - this is the post method that you can use (it includes the CSRF token that you need to make a request). It accepts 3 arguments. \n    * URL - the part after the API version, for example "products.json"\n    * METHOD - it can be POST/PUT/DELETE\n    * BODY - the item body that you must get from shopifyUtils.items for the specific index</pre>\n    <pre><strong>Ctrl+Space</strong> - this is the combination you can use to autocomplete javascript methods</pre>\n    <pre><strong>F11</strong> - when you are focused in the textarea you can press F11 to go fullscreen for the code editor</pre>\n  </div>\n            <button type="button" class="btn js-start-dynamic">Start</button>\n          </div>\n        </div>\n      \n    </div>\n  `},generateConditionType:function(){const e=this.getCurrentPageType();return`<select class="dynamic-type" onchange="shopifyUtils.conditionPopulate(this)"><option disabled selected>Choose Type</option>${V.conditions.filter(t=>t.scope.indexOf(e[0])>-1).map(e=>`<option value="${e.target}" data-conditions="${e.methods.join(",")}">${e.name}</option>`).join("")}</select>`},appendDynamicContentHTML:function(){const e=this.getCurrentPageType();"navigation"!==e[0]&&"order"!==e[0]&&"orders"!==e[0]&&(this.sidebar.querySelector(`.${this.prefix}-modals`).innerHTML=this.dynamicContentHTML(),CodeMirror.fromTextArea(document.querySelector(".code-editor"),{lineWrapping:!0,mode:"javascript",theme:"dracula",extraKeys:{"Ctrl-Space":"autocomplete",F11:function(e){B(e,!J(e))},Esc:function(e){J(e)&&B(e,!1)}},gutters:["CodeMirror-lint-markers"],lint:!0}),this.conditionEvents())},dynamicRow:function(){return`\n    <div class="dynamic-row">\n      <span class="dynamic-row__clone"></span>\n      ${this.generateConditionType()}\n      <select class="dynamic-condition"></select>\n      <input type="text" class="dynamic-check" value="" />\n    </div>\n  `},conditionPopulate:function(e){const t=e.selectedOptions[0].getAttribute("data-conditions").split(",");e.nextElementSibling.innerHTML="",t.forEach(t=>{e.nextElementSibling.insertAdjacentHTML("beforeend",`<option value="${t}">${t}</option>`)})},generateOptionType:function(){const e=this.getCurrentPageType();return`<select class="dynamic-option-type" onchange="shopifyUtils.conditionPopulate(this)"><option disabled selected>Choose Type</option>${V.options.filter(t=>t.scope.indexOf(e[0])>-1).map(e=>`<option value="${e.target}" data-conditions="${e.methods.join(",")}">${e.name}</option>`).join("")}</select>`},conditionEvents:function(){this.sidebar.addEventListener("click",async e=>{if(e.target.classList.contains("js-start-conditions")){const e=document.querySelector(".dynamic-type").value,t=document.querySelector(".dynamic-condition").value,i=document.querySelector(".dynamic-check").value;document.querySelector('[name="condition-type"]').value;if(""!==e&&""!==t&&""!==i){const e=this.getCurrentPageType();this.allItems.length||await this.getRequestAll(e[1]+".json?limit=250"),this.filterInit(),console.log(this.filteredItems)}else alert("Please set all conditions")}})},filterInit:W}),window.shopifyUtils=new K,window.shopifyUtils.init()}]);